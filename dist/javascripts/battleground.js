define(["exports","bullet"],function(t,e){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var a=void 0,h=void 0,i=t.x,s=t.y,r=void 0,c=void 0,n=e.deg%180;switch(n=e.deg/180%2?-1*n:n){case 0:r=e.x+e.width/2,c=e.y,a=(e.width+t.r)/2,h=(e.height+t.r)/2;break;case 45:r=e.x+e.width/2*Math.cos(Math.PI/4),c=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4);break;case 90:r=e.x+e.width/2,c=e.y,a=(e.height+t.r)/2,h=(e.width+t.r)/2;break;case 135:r=e.x-e.width/2*Math.cos(Math.PI/4),c=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4);break;case 180:r=e.x+e.width/2,c=e.y,a=(e.width+t.r)/2,h=(e.height+t.r)/2;break;case-45:r=e.x+e.width/2*Math.cos(Math.PI/4),c=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4);break;case-90:r=e.x+e.width/2,c=e.y,a=(e.height+t.r)/2,h=(e.width+t.r)/2;break;case-135:r=e.x-e.width/2*Math.cos(Math.PI/4),c=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4)}var o=Math.abs(i-r),d=Math.abs(s-c);Math.sqrt(Math.pow(i-r,2)+Math.pow(s-c,2));return o<a&&d<h}function s(t,e){var a=void 0,h=void 0,i=void 0,s=void 0,r=void 0,c=void 0,n=t.deg%360;switch(n){case 0:i=t.x+t.width/2,s=t.y;break;case 45:case-315:i=t.x+t.width/2*Math.cos(Math.PI/4),s=t.y+t.width/2*Math.cos(Math.PI/4);break;case 90:case-270:i=t.x+t.width/2,s=t.y;break;case 135:case-225:i=t.x-t.width/2*Math.cos(Math.PI/4),s=t.y+t.width/2*Math.cos(Math.PI/4);break;case 180:case-180:i=t.x+t.width/2,s=t.y;break;case-45:case 315:i=t.x+t.width/2*Math.cos(Math.PI/4),s=t.y-t.width/2*Math.cos(Math.PI/4);break;case-90:case 270:i=t.x+t.width/2,s=t.y;break;case-135:case 225:i=t.x-t.width/2*Math.cos(Math.PI/4),s=t.y-t.width/2*Math.cos(Math.PI/4)}var o=e.deg%360;switch(o){case 0:r=e.x+e.width/2,c=e.y,a=(e.width+t.width)/2,h=(e.height+t.height)/2;break;case 45:case-315:r=e.x+e.width/2*Math.cos(Math.PI/4),c=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4);break;case 90:case-270:r=e.x+e.width/2,c=e.y,a=(e.height+t.width)/2,h=(e.width+t.height)/2;break;case 135:case-225:r=e.x-e.width/2*Math.cos(Math.PI/4),c=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4);break;case 180:case-180:r=e.x+e.width/2,c=e.y,a=(e.width+t.width)/2,h=(e.height+t.height)/2;break;case-45:case 315:r=e.x+e.width/2*Math.cos(Math.PI/4),c=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4);break;case-90:case 270:r=e.x+e.width/2,c=e.y,a=(e.height+t.width)/2,h=(e.width+t.height)/2;break;case-135:case 225:r=e.x-e.width/2*Math.cos(Math.PI/4),c=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4)}var d=Math.abs(i-r),l=Math.abs(s-c);Math.sqrt(Math.pow(i-r,2)+Math.pow(s-c,2));return d<a&&l<h}Object.defineProperty(t,"__esModule",{value:!0});var r=a(e),c=function(){function t(t,e){for(var a=0;a<e.length;a++){var h=e[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(e,a,h){return a&&t(e.prototype,a),h&&t(e,h),e}}(),n=document.body.clientWidth,o=document.body.clientHeight,d=function(){function t(e){h(this,t),this.players=e,this.bullets=[],this.gameSign=!1,this.bulletSpeed=3,this.bulletCount=150,this.quantity=1,this.time=0,this.initCanvas()}return c(t,[{key:"initCanvas",value:function(){this.elem=document.getElementById("battleground"),this.canvasWidth=0,this.canvasHeight=0,this.elem.width=this.canvasWidth=n,this.elem.height=this.canvasHeight=o,this.cxt=this.elem.getContext("2d")}},{key:"start",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.setDifficulty(e),this.gameSign=!0,this.time=Date.now();var a=function h(e){return!!t.gameSign&&(t.cxt.clearRect(0,0,t.canvasWidth,t.canvasHeight),t.render(),void requestAnimationFrame(h))};requestAnimationFrame(a)}},{key:"stop",value:function(){this.gameSign=!1,Array.from(this.players,function(t){return t.over()})}},{key:"setDifficulty",value:function(t){switch(+t){case 1:this.bulletSpeed=2.5,this.quantity=1,this.bulletCount=100;break;case 2:this.bulletSpeed=3,this.quantity=2,this.bulletCount=150;break;case 3:this.bulletSpeed=3.5,this.quantity=3,this.bulletCount=200;break;case 4:this.bulletSpeed=5,this.quantity=5,this.bulletCount=500}}},{key:"render",value:function(){this.renderBullets(),this.updateBullets(),this.bullets.length<this.bulletCount&&this.addBullets(this.quantity)}},{key:"addBullets",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=0;e<t;e++){var a=new r["default"](this.bulletSpeed);this.bullets.push(a)}}},{key:"renderBullets",value:function(){var t=this;Array.from(this.bullets,function(e){t.cxt.fillStyle=e.color,t.cxt.beginPath(),t.cxt.arc(e.x,e.y,e.r,0,2*Math.PI,!0),t.cxt.closePath(),t.cxt.fill()})}},{key:"updateBullets",value:function(){var t=this;this.bullets=this.bullets.filter(function(e,a){if(e.x+=e.vx,e.y+=e.vy,e.d+=Math.sqrt(Math.pow(e.vx-0,2)+Math.pow(e.vy-0,2)),e.x>n||e.x<0||e.y>o||e.y<0)return!1;var h=Array.from(t.players,function(t,a){return i(e,t,a)});if(h.indexOf(!0)>-1){var r=document.querySelector(".result-wrap");return t.stop(),1===t.players.length?(r.classList.add("show-solo"),document.querySelector(".solo-time").innerHTML=(Date.now()-t.time)/1e3):(r.classList.add("show-pvp"),document.querySelector(".name").innerHTML=(h.indexOf(!0)?1:2)+"P",document.querySelector(".pvp-time").innerHTML=(Date.now()-t.time)/1e3),!1}if(t.players.length>1){var c=t.players[0],d=t.players[1],l=s(c,d);l&&(c.backDirection===d.backDirection&&(c.backDirection.indexOf("l")>-1&&(c.x<d.x?(d.deg+=180,d.backDirection=d.getBackDir(d.deg)):(c.deg+=180,c.backDirection=c.getBackDir(c.deg))),c.backDirection.indexOf("r")>-1&&(c.x<d.x?(c.deg+=180,c.backDirection=c.getBackDir(c.deg)):(d.deg+=180,d.backDirection=d.getBackDir(d.deg))),c.backDirection.indexOf("t")>-1&&(c.y<d.y?(d.deg+=180,d.backDirection=d.getBackDir(d.deg)):(c.deg+=180,c.backDirection=c.getBackDir(c.deg))),c.backDirection.indexOf("b")>-1&&(c.y<d.y?(c.deg+=180,c.backDirection=c.getBackDir(c.deg)):(d.deg+=180,d.backDirection=d.getBackDir(d.deg)))),c.collision(),d.collision())}return!0})}},{key:"getBulletPos",value:function(){var t={x:0,y:0};return Math.round(Math.random())?(t.x=Math.pow(-1,Math.ceil(2*Math.random()))*(Math.random()*n),t.y=Math.round(Math.random())||o):(t.y=Math.pow(-1,Math.ceil(2*Math.random()))*(Math.random()*o),t.x=Math.round(Math.random())||n),t}}]),t}();t["default"]=d});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhdHRsZWdyb3VuZC5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJleHBvcnRzIiwiX2J1bGxldCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJpc0NRQ29sbGlzaW9uIiwiY2lyIiwib2JqMiIsIngiLCJ5IiwiY29yZVgiLCJjb3JlWSIsImJhcnJpZXJYIiwiYmFycmllclkiLCJkZWciLCJ3aWR0aCIsInIiLCJoZWlnaHQiLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJkeCIsImFicyIsImR5Iiwic3FydCIsInBvdyIsImlzUVFDb2xsaXNpb24iLCJvYmoxIiwiZGVnMSIsImRlZzIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX2J1bGxldDIiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsImR3IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJkaCIsImNsaWVudEhlaWdodCIsIkJhdHRsZWdyb3VuZCIsInBsYXllcnMiLCJ0aGlzIiwiYnVsbGV0cyIsImdhbWVTaWduIiwiYnVsbGV0U3BlZWQiLCJidWxsZXRDb3VudCIsInF1YW50aXR5IiwidGltZSIsImluaXRDYW52YXMiLCJlbGVtIiwiZ2V0RWxlbWVudEJ5SWQiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImN4dCIsImdldENvbnRleHQiLCJfdGhpcyIsImxldmVsIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwic2V0RGlmZmljdWx0eSIsIkRhdGUiLCJub3ciLCJzdGVwIiwidGltZXN0YW1wIiwiY2xlYXJSZWN0IiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiQXJyYXkiLCJmcm9tIiwicGxheWVyIiwib3ZlciIsInJlbmRlckJ1bGxldHMiLCJ1cGRhdGVCdWxsZXRzIiwiYWRkQnVsbGV0cyIsImNvdW50IiwiYUJ1bGxldCIsInB1c2giLCJfdGhpczIiLCJidWxsZXQiLCJmaWxsU3R5bGUiLCJjb2xvciIsImJlZ2luUGF0aCIsImFyYyIsImNsb3NlUGF0aCIsImZpbGwiLCJfdGhpczMiLCJmaWx0ZXIiLCJpbmRleCIsInZ4IiwidnkiLCJkIiwiYm9vbCIsImluZGV4T2YiLCJyZXN1bHQiLCJxdWVyeVNlbGVjdG9yIiwic3RvcCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsIlAxIiwiUDIiLCJjb2xsIiwiYmFja0RpcmVjdGlvbiIsImdldEJhY2tEaXIiLCJjb2xsaXNpb24iLCJwb3MiLCJyb3VuZCIsInJhbmRvbSIsImNlaWwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRLFVBQVcsVUFBVyxTQUFVQyxFQUFTQyxHQUNoRCxZQVFBLFNBQVNDLEdBQXVCQyxHQUMvQixNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUM5QkUsVUFBU0YsR0FJWCxRQUFTRyxHQUFnQkMsRUFBVUMsR0FDbEMsS0FBTUQsWUFBb0JDLElBQ3pCLEtBQU0sSUFBSUMsV0FBVSxxQ0EwS3ZCLFFBQVNDLEdBQWNDLEVBQUtDLEdBQzNCLEdBQUlDLEdBQUEsT0FBR0MsRUFBQSxPQUNIQyxFQUFRSixFQUFJRSxFQUNaRyxFQUFRTCxFQUFJRyxFQUNaRyxFQUFBLE9BQ0FDLEVBQUEsT0FDQUMsRUFBTVAsRUFBS08sSUFBTSxHQUVyQixRQURBQSxFQUFPUCxFQUFLTyxJQUFNLElBQU0sS0FBV0EsRUFBT0EsR0FFekMsSUFBSyxHQUVIRixFQUFXTCxFQUFLQyxFQUFJRCxFQUFLUSxNQUFRLEVBQ2pDRixFQUFXTixFQUFLRSxFQUNoQkQsR0FBS0QsRUFBS1EsTUFBUVQsRUFBSVUs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Z0JGLEVBQUdHLFdBQVdILEVBQUd0RyxPQUduQ3FHLEVBQUdHLGNBQWNWLFFBQVEsVUFDeEJPLEVBQUcxRyxFQUFJMkcsRUFBRzNHLEdBQ1oyRyxFQUFHdEcsS0FBTyxJQUNWc0csRUFBR0UsY0FBZ0JGLEVBQUdHLFdBQVdILEVBQUd0RyxPQUdwQ3FHLEVBQUdyRyxLQUFPLElBQ1ZxRyxFQUFHRyxjQUFnQkgsRUFBR0ksV0FBV0osRUFBR3JHLE9BR25DcUcsRUFBR0csY0FBY1YsUUFBUSxVQUN4Qk8sRUFBRzFHLEVBQUkyRyxFQUFHM0csR0FDWjBHLEVBQUdyRyxLQUFPLElBQ1ZxRyxFQUFHRyxjQUFnQkgsRUFBR0ksV0FBV0osRUFBR3JHLE9BR3BDc0csRUFBR3RHLEtBQU8sSUFDVnNHLEVBQUdFLGNBQWdCRixFQUFHRyxXQUFXSCxFQUFHdEcsUUFJdkNxRyxFQUFHSyxZQUNISixFQUFHSSxhQUlMLE9BQU8sT0EwRVAzRSxJQUFLLGVBQ0xaLE1BQU8sV0F2RVIsR0FBSXdGLElBQ0hqSCxFQUFHLEVBQ0hDLEVBQUcsRUFTSixPQVBJUyxNQUFLd0csTUFBTXhHLEtBQUt5RyxXQUNuQkYsRUFBSWpILEVBQUlVLEtBQUtRLE9BQVFSLEtBQUswRyxLQUFxQixFQUFoQjFHLEtBQUt5RyxZQUFrQnpHLEtBQUt5RyxTQUFXMUUsR0FDdEV3RSxFQUFJaEgsRUFBSVMsS0FBS3dHLE1BQU14RyxLQUFLeUcsV0FBYXRFLElBRXJDb0UsRUFBSWhILEVBQUlTLEtBQUtRLE9BQVFSLEtBQUswRyxLQUFxQixFQUFoQjFHLEtBQUt5RyxZQUFrQnpHLEtBQUt5RyxTQUFXdEUsR0FDdEVvRSxFQUFJakgsRUFBSVUsS0FBS3dHLE1BQU14RyxLQUFLeUcsV0FBYTFFLEdBRS9Cd0UsTUE0RUFsRSxJQUdSNUQsR0FBQUEsV0FoUW9CNEQiLCJmaWxlIjoiYmF0dGxlZ3JvdW5kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZHcgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xyXG5jb25zdCBkaCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xyXG5cclxuaW1wb3J0IEJ1bGxldCBmcm9tICdidWxsZXQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0dGxlZ3JvdW5kIHtcclxuXHRjb25zdHJ1Y3RvcihwbGF5ZXJzKSB7XHJcblx0XHR0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG5cdFx0dGhpcy5idWxsZXRzID0gW107XHJcblx0XHR0aGlzLmdhbWVTaWduID0gZmFsc2U7XHJcblx0XHR0aGlzLmJ1bGxldFNwZWVkID0gMztcclxuXHRcdHRoaXMuYnVsbGV0Q291bnQgPSAxNTA7XHJcblx0XHR0aGlzLnF1YW50aXR5ID0gMTtcclxuXHRcdHRoaXMudGltZSA9IDA7XHJcblx0XHR0aGlzLmluaXRDYW52YXMoKTtcclxuXHR9XHJcblx0aW5pdENhbnZhcygpIHtcclxuXHRcdHRoaXMuZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXR0bGVncm91bmQnKTtcclxuXHRcdHRoaXMuY2FudmFzV2lkdGggPSAwO1xyXG5cdFx0dGhpcy5jYW52YXNIZWlnaHQgPSAwO1xyXG5cdFx0dGhpcy5lbGVtLndpZHRoID0gdGhpcy5jYW52YXNXaWR0aCA9IGR3O1xyXG5cdFx0dGhpcy5lbGVtLmhlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0ID0gZGg7XHJcblxyXG5cdFx0dGhpcy5jeHQgPSB0aGlzLmVsZW0uZ2V0Q29udGV4dCgnMmQnKTtcclxuXHR9XHJcblx0c3RhcnQobGV2ZWwgPSAxKSB7XHJcblx0XHR0aGlzLnNldERpZmZpY3VsdHkobGV2ZWwpO1xyXG5cdFx0dGhpcy5nYW1lU2lnbiA9IHRydWU7XHJcblx0XHR0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xyXG5cdFx0Y29uc3Qgc3RlcCA9ICh0aW1lc3RhbXApID0+IHtcclxuXHRcdFx0aWYgKCF0aGlzLmdhbWVTaWduKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHRoaXMuY3h0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7XHJcblx0XHRcdHRoaXMucmVuZGVyKCk7XHJcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuXHRcdH1cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuXHR9XHJcblx0c3RvcCgpIHtcclxuXHRcdHRoaXMuZ2FtZVNpZ24gPSBmYWxzZTtcclxuXHRcdEFycmF5LmZyb20odGhpcy5wbGF5ZXJzLCAocGxheWVyKSA9PiBwbGF5ZXIub3ZlcigpKTtcclxuXHR9XHJcblx0c2V0RGlmZmljdWx0eShsZXZlbCkge1xyXG5cdFx0c3dpdGNoKCtsZXZlbCl7XHJcblx0XHRcdGNhc2UgMToge1xyXG5cdFx0XHRcdHRoaXMuYnVsbGV0U3BlZWQgPSAyLjU7XHJcblx0XHRcdFx0dGhpcy5xdWFudGl0eSA9IDE7XHJcblx0XHRcdFx0dGhpcy5idWxsZXRDb3VudCA9IDEwMDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRjYXNlIDI6IHtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldFNwZWVkID0gMztcclxuXHRcdFx0XHR0aGlzLnF1YW50aXR5ID0gMjtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldENvdW50ID0gMTUwO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNhc2UgMzoge1xyXG5cdFx0XHRcdHRoaXMuYnVsbGV0U3BlZWQgPSAzLjU7XHJcblx0XHRcdFx0dGhpcy5xdWFudGl0eSA9IDM7XHJcblx0XHRcdFx0dGhpcy5idWxsZXRDb3VudCA9IDIwMDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRjYXNlIDQ6IHtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldFNwZWVkID0gNTtcclxuXHRcdFx0XHR0aGlzLnF1YW50aXR5ID0gNTtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldENvdW50ID0gNTAwO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHRoaXMucmVuZGVyQnVsbGV0cygpO1xyXG5cdFx0dGhpcy51cGRhdGVCdWxsZXRzKCk7XHJcblx0XHRpZiAodGhpcy5idWxsZXRzLmxlbmd0aCA8IHRoaXMuYnVsbGV0Q291bnQpIHtcclxuXHRcdFx0dGhpcy5hZGRCdWxsZXRzKHRoaXMucXVhbnRpdHkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRhZGRCdWxsZXRzKGNvdW50ID0gMSkge1xyXG5cdFx0Zm9yKGxldCBpID0wO2k8Y291bnQ7aSsrKXtcclxuXHRcdGxldCBhQnVsbGV0ID0gbmV3IEJ1bGxldCh0aGlzLmJ1bGxldFNwZWVkKTtcclxuXHRcdFx0dGhpcy5idWxsZXRzLnB1c2goYUJ1bGxldCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJlbmRlckJ1bGxldHMoKSB7XHJcblx0XHRBcnJheS5mcm9tKHRoaXMuYnVsbGV0cywgKGJ1bGxldCkgPT4ge1xyXG5cdFx0XHR0aGlzLmN4dC5maWxsU3R5bGUgPSBidWxsZXQuY29sb3I7XHJcblx0XHRcdHRoaXMuY3h0LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHR0aGlzLmN4dC5hcmMoYnVsbGV0LngsIGJ1bGxldC55LCBidWxsZXQuciwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xyXG5cdFx0XHR0aGlzLmN4dC5jbG9zZVBhdGgoKTtcclxuXHRcdFx0dGhpcy5jeHQuZmlsbCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdHVwZGF0ZUJ1bGxldHMoKSB7XHJcblx0XHR0aGlzLmJ1bGxldHMgPSB0aGlzLmJ1bGxldHMuZmlsdGVyKChidWxsZXQsIGluZGV4KSA9PiB7XHJcblx0XHRcdGJ1bGxldC54ICs9IGJ1bGxldC52eDtcclxuXHRcdFx0YnVsbGV0LnkgKz0gYnVsbGV0LnZ5O1xyXG5cdFx0XHRidWxsZXQuZCArPSBNYXRoLnNxcnQoTWF0aC5wb3coKGJ1bGxldC52eCAtIDApLCAyKSArIE1hdGgucG93KChidWxsZXQudnkgLSAwKSwgMikpO1xyXG5cdFx0XHRpZiAoYnVsbGV0LnggPiBkdyB8fCBidWxsZXQueCA8IDAgfHwgYnVsbGV0LnkgPiBkaCB8fCBidWxsZXQueSA8IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IGJvb2wgPSBBcnJheS5mcm9tKHRoaXMucGxheWVycywgKHBsYXllciwgaW5kZXgpID0+IGlzQ1FDb2xsaXNpb24oYnVsbGV0LCBwbGF5ZXIsIGluZGV4KSk7XHJcblxyXG5cdFx0XHRpZiAoYm9vbC5pbmRleE9mKHRydWUpID4gLTEpIHtcclxuXHRcdFx0XHRsZXQgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdC13cmFwJyk7XHJcblx0XHRcdFx0dGhpcy5zdG9wKCk7XHJcblx0XHRcdFx0aWYgKHRoaXMucGxheWVycy5sZW5ndGggPT09IDEpIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5jbGFzc0xpc3QuYWRkKCdzaG93LXNvbG8nKTtcclxuXHRcdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb2xvLXRpbWUnKS5pbm5lckhUTUwgPSAoKERhdGUubm93KCkgLSB0aGlzLnRpbWUpIC8gMTAwMCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5jbGFzc0xpc3QuYWRkKCdzaG93LXB2cCcpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWUnKS5pbm5lckhUTUwgPSAoYm9vbC5pbmRleE9mKHRydWUpID8gMSA6IDIpICsgJ1AnO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnB2cC10aW1lJykuaW5uZXJIVE1MID0gKChEYXRlLm5vdygpIC0gdGhpcy50aW1lKSAvIDEwMDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLnBsYXllcnMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRcdGxldCBQMSA9IHRoaXMucGxheWVyc1swXTtcclxuXHRcdFx0XHRsZXQgUDIgPSB0aGlzLnBsYXllcnNbMV07XHJcblx0XHRcdFx0bGV0IGNvbGwgPSBpc1FRQ29sbGlzaW9uKFAxLCBQMik7XHJcblx0XHRcdFx0aWYgKGNvbGwpIHtcclxuXHRcdFx0XHRcdGlmIChQMS5iYWNrRGlyZWN0aW9uID09PSBQMi5iYWNrRGlyZWN0aW9uKSB7XHJcblx0XHRcdFx0XHRcdGlmKFAxLmJhY2tEaXJlY3Rpb24uaW5kZXhPZignbCcpID4gLTEpIHtcclxuXHRcdFx0XHRcdFx0XHRpZihQMS54IDwgUDIueCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAyLmJhY2tEaXJlY3Rpb24gPSBQMi5nZXRCYWNrRGlyKFAyLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAxLmJhY2tEaXJlY3Rpb24gPSBQMS5nZXRCYWNrRGlyKFAxLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmKFAxLmJhY2tEaXJlY3Rpb24uaW5kZXhPZigncicpID4gLTEpIHtcclxuXHRcdFx0XHRcdFx0XHRpZihQMS54IDwgUDIueCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAxLmJhY2tEaXJlY3Rpb24gPSBQMS5nZXRCYWNrRGlyKFAxLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAyLmJhY2tEaXJlY3Rpb24gPSBQMi5nZXRCYWNrRGlyKFAyLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmKFAxLmJhY2tEaXJlY3Rpb24uaW5kZXhPZigndCcpID4gLTEpIHtcclxuXHRcdFx0XHRcdFx0XHRpZihQMS55IDwgUDIueSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAyLmJhY2tEaXJlY3Rpb24gPSBQMi5nZXRCYWNrRGlyKFAyLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAxLmJhY2tEaXJlY3Rpb24gPSBQMS5nZXRCYWNrRGlyKFAxLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmKFAxLmJhY2tEaXJlY3Rpb24uaW5kZXhPZignYicpID4gLTEpIHtcclxuXHRcdFx0XHRcdFx0XHRpZihQMS55IDwgUDIueSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAxLmJhY2tEaXJlY3Rpb24gPSBQMS5nZXRCYWNrRGlyKFAxLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuZGVnICs9IDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFAyLmJhY2tEaXJlY3Rpb24gPSBQMi5nZXRCYWNrRGlyKFAyLmRlZyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRQMS5jb2xsaXNpb24oKTtcclxuXHRcdFx0XHRcdFAyLmNvbGxpc2lvbigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0Z2V0QnVsbGV0UG9zKCkge1xyXG5cdFx0bGV0IHBvcyA9IHtcclxuXHRcdFx0eDogMCxcclxuXHRcdFx0eTogMCxcclxuXHRcdH1cclxuXHRcdGlmIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpKSB7XHJcblx0XHRcdHBvcy54ID0gTWF0aC5wb3coLTEsIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMikpICogKE1hdGgucmFuZG9tKCkgKiBkdyk7XHJcblx0XHRcdHBvcy55ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSB8fCBkaDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHBvcy55ID0gTWF0aC5wb3coLTEsIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMikpICogKE1hdGgucmFuZG9tKCkgKiBkaCk7XHJcblx0XHRcdHBvcy54ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSB8fCBkdztcclxuXHRcdH1cclxuXHRcdHJldHVybiBwb3M7XHJcblx0fVxyXG59O1xyXG5cclxuLy8g5Yik5pat5piv5ZCm56Kw5pKeXHJcbmZ1bmN0aW9uIGlzQ1FDb2xsaXNpb24oY2lyLCBvYmoyKSB7XHJcblx0bGV0IHgsIHk7XHJcblx0bGV0IGNvcmVYID0gY2lyLng7XHJcblx0bGV0IGNvcmVZID0gY2lyLnk7XHJcblx0bGV0IGJhcnJpZXJYO1xyXG5cdGxldCBiYXJyaWVyWTtcclxuXHRsZXQgZGVnID0gb2JqMi5kZWcgJSAxODA7XHJcblx0ZGVnID0gKG9iajIuZGVnIC8gMTgwICUgMikgPyAoLTEgKiBkZWcpIDogZGVnO1xyXG5cdHN3aXRjaCAoZGVnKSB7XHJcblx0XHRjYXNlIDA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIGNpci5yKSAvIDI7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIGNpci5yKSAvIDI7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgNDU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMiAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMiAvIE1hdGguc2luKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSA5MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDI7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnk7XHJcblx0XHRcdFx0eCA9IChvYmoyLmhlaWdodCArIGNpci5yKSAvIDI7XHJcblx0XHRcdFx0eSA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAxMzU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCAtIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMiAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMiAvIE1hdGguc2luKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAxODA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIGNpci5yKSAvIDI7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIGNpci5yKSAvIDI7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTQ1OlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggKyBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueSAtIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIGNpci5yKSAvIDIgLyBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIGNpci5yKSAvIDIgLyBNYXRoLnNpbihNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTkwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggKyBvYmoyLndpZHRoIC8gMjtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueTtcclxuXHRcdFx0XHR4ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIud2lkdGggKyBjaXIucikgLyAyO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIC0xMzU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCAtIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55IC0gb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMiAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMiAvIE1hdGguc2luKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdH1cclxuXHRsZXQgZHggPSBNYXRoLmFicyhjb3JlWCAtIGJhcnJpZXJYKTtcclxuXHRsZXQgZHkgPSBNYXRoLmFicyhjb3JlWSAtIGJhcnJpZXJZKTtcclxuXHRsZXQgZCA9IE1hdGguc3FydChNYXRoLnBvdygoY29yZVggLSBiYXJyaWVyWCksIDIpICsgTWF0aC5wb3coKGNvcmVZIC0gYmFycmllclkpLCAyKSk7XHJcblx0aWYgKGR4IDwgeCAmJiBkeSA8IHkpIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzUVFDb2xsaXNpb24ob2JqMSwgb2JqMikge1xyXG5cdGxldCB4LCB5O1xyXG5cdGxldCBjb3JlWDtcclxuXHRsZXQgY29yZVk7XHJcblx0bGV0IGJhcnJpZXJYO1xyXG5cdGxldCBiYXJyaWVyWTtcclxuXHRsZXQgZGVnMSA9IG9iajEuZGVnICUgMzYwO1xyXG5cdHN3aXRjaCAoZGVnMSkge1xyXG5cdFx0Y2FzZSAwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29yZVggPSBvYmoxLnggKyBvYmoxLndpZHRoIC8gMjtcclxuXHRcdFx0XHRjb3JlWSA9IG9iajEueTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSA0NTpcclxuXHRcdGNhc2UgLTMxNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvcmVYID0gb2JqMS54ICsgb2JqMS53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0Y29yZVkgPSBvYmoxLnkgKyBvYmoxLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSA5MDpcclxuXHRcdGNhc2UgLTI3MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvcmVYID0gb2JqMS54ICsgb2JqMS53aWR0aCAvIDI7XHJcblx0XHRcdFx0Y29yZVkgPSBvYmoxLnk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgMTM1OlxyXG5cdFx0Y2FzZSAtMjI1OlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29yZVggPSBvYmoxLnggLSBvYmoxLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRjb3JlWSA9IG9iajEueSArIG9iajEud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDE4MDpcclxuXHRcdGNhc2UgLTE4MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvcmVYID0gb2JqMS54ICsgb2JqMS53aWR0aCAvIDI7XHJcblx0XHRcdFx0Y29yZVkgPSBvYmoxLnk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTQ1OlxyXG5cdFx0Y2FzZSAzMTU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb3JlWCA9IG9iajEueCArIG9iajEud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGNvcmVZID0gb2JqMS55IC0gb2JqMS53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTkwOlxyXG5cdFx0Y2FzZSAyNzA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb3JlWCA9IG9iajEueCArIG9iajEud2lkdGggLyAyO1xyXG5cdFx0XHRcdGNvcmVZID0gb2JqMS55O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIC0xMzU6XHJcblx0XHRjYXNlIDIyNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvcmVYID0gb2JqMS54IC0gb2JqMS53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0Y29yZVkgPSBvYmoxLnkgLSBvYmoxLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdH1cclxuXHRsZXQgZGVnMiA9IG9iajIuZGVnICUgMzYwO1xyXG5cdHN3aXRjaCAoZGVnMikge1xyXG5cdFx0Y2FzZSAwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggKyBvYmoyLndpZHRoIC8gMjtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBvYmoxLndpZHRoKSAvIDI7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIG9iajEuaGVpZ2h0KSAvIDI7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgNDU6XHJcblx0XHRjYXNlIC0zMTU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgb2JqMS53aWR0aCkgLyAyIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBvYmoxLmhlaWdodCkgLyAyIC8gTWF0aC5zaW4oTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDkwOlxyXG5cdFx0Y2FzZSAtMjcwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggKyBvYmoyLndpZHRoIC8gMjtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueTtcclxuXHRcdFx0XHR4ID0gKG9iajIuaGVpZ2h0ICsgb2JqMS53aWR0aCkgLyAyO1xyXG5cdFx0XHRcdHkgPSAob2JqMi53aWR0aCArIG9iajEuaGVpZ2h0KSAvIDI7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgMTM1OlxyXG5cdFx0Y2FzZSAtMjI1OlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggLSBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueSArIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIG9iajEud2lkdGgpIC8gMiAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgb2JqMS5oZWlnaHQpIC8gMiAvIE1hdGguc2luKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAxODA6XHJcblx0XHRjYXNlIC0xODA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIG9iajEud2lkdGgpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgb2JqMS5oZWlnaHQpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtNDU6XHJcblx0XHRjYXNlIDMxNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnkgLSBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBvYmoxLndpZHRoKSAvIDIgLyBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIG9iajEuaGVpZ2h0KSAvIDIgLyBNYXRoLnNpbihNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTkwOlxyXG5cdFx0Y2FzZSAyNzA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi5oZWlnaHQgKyBvYmoxLndpZHRoKSAvIDI7XHJcblx0XHRcdFx0eSA9IChvYmoyLndpZHRoICsgb2JqMS5oZWlnaHQpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtMTM1OlxyXG5cdFx0Y2FzZSAyMjU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCAtIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55IC0gb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgb2JqMS53aWR0aCkgLyAyIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBvYmoxLmhlaWdodCkgLyAyIC8gTWF0aC5zaW4oTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0fVxyXG5cdGxldCBkeCA9IE1hdGguYWJzKGNvcmVYIC0gYmFycmllclgpO1xyXG5cdGxldCBkeSA9IE1hdGguYWJzKGNvcmVZIC0gYmFycmllclkpO1xyXG5cdGxldCBkID0gTWF0aC5zcXJ0KE1hdGgucG93KChjb3JlWCAtIGJhcnJpZXJYKSwgMikgKyBNYXRoLnBvdygoY29yZVkgLSBiYXJyaWVyWSksIDIpKTtcclxuXHRpZiAoZHggPCB4ICYmIGR5IDwgeSkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
